{
	"name": "Query Synapse Pool data using JSON functions",
	"properties": {
		"content": {
			"query": "create table friends (id int, jsontext varchar(4000))\n\n-- insert values into the table\n\n\tinsert into friends values (1, '{\"_id\":\"5ccb7aaf0cb6a334ef90b149\",\"index\":1,\"guid\":\"aad1cce5-3150-4780-8701-931954572bec\",\"isActive\":true,\"balance\":\"$2,822.18\",\"picture\":\"http://placehold.it/32x32\",\"age\":25,\"eyeColor\":\"brown\",\"name\":\"Delia Wyatt\",\"gender\":\"female\",\"company\":\"HAWKSTER\",\"email\":\"deliawyatt@hawkster.com\",\"phone\":\"+1 (826) 434-3265\",\"address\":\"413 Knight Court, Taycheedah, New York, 6250\",\"about\":\"Enim magna deserunt irure mollit cupidatat eiusmod pariatur enim esse laboris sint in laboris. Qui sunt mollit quis nisi nostrud dolor pariatur veniam elit est. Et nostrud ipsum id magna ut ut duis culpa. Aliqua voluptate fugiat sint eiusmod deserunt proident officia incididunt amet veniam officia. Qui ex incididunt culpa fugiat enim ullamco ipsum deserunt ad sit nulla.\",\"registered\":\"2017-05-16T08:39:52 +07:00\",\"latitude\":84.614493,\"longitude\":124.860654,\"tags\":[\"ut\",\"commodo\",\"dolore\",\"reprehenderit\",\"id\",\"reprehenderit\",\"sunt\"],\"friends\":[{\"id\":0,\"name\":\"Johns Morales\"},{\"id\":1,\"name\":\"Ruiz Hale\"},{\"id\":2,\"name\":\"Santos Morgan\"}],\"greeting\":\"Hello, Delia Wyatt! You have 9 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n\tinsert into friends values (2, '{\"_id\":\"5ccb7b18cf45978d6921b2a3\",\"index\":2,\"guid\":\"193ee109-1f13-465b-abb0-2d94fd0b88ad\",\"isActive\":true,\"balance\":\"$1,076.93\",\"picture\":\"http://placehold.it/32x32\",\"age\":25,\"eyeColor\":\"brown\",\"name\":\"Lowery Frank\",\"gender\":\"male\",\"company\":\"MOBILDATA\",\"email\":\"loweryfrank@mobildata.com\",\"phone\":\"+1 (874) 455-2712\",\"address\":\"272 Haring Street, Henrietta, Minnesota, 6301\",\"about\":\"Consequat mollit elit pariatur anim aute minim esse mollit cillum labore amet aliquip. Deserunt reprehenderit culpa cillum ut culpa labore dolor aliqua laborum fugiat. Eiusmod fugiat sit laborum eu nisi.\",\"registered\":\"2018-04-10T08:23:50 +07:00\",\"latitude\":30.737472,\"longitude\":8.397919,\"tags\":[\"sint\",\"ad\",\"esse\",\"minim\",\"aute\",\"adipisicing\",\"laborum\"],\"friends\":[{\"id\":0,\"name\":\"Sargent Patrick\"},{\"id\":1,\"name\":\"Paul Shaffer\"},{\"id\":2,\"name\":\"Felecia Merrill\"}],\"greeting\":\"Hello, Lowery Frank! You have 6 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n\tinsert into friends values (3, '{\"_id\":\"5ccb7cb5cc993a73cc22697b\",\"index\":3,\"guid\":\"78223d97-7c0b-42c7-9928-ae3fd05ab4d8\",\"isActive\":true,\"balance\":\"$2,429.38\",\"picture\":\"http://placehold.it/32x32\",\"age\":24,\"eyeColor\":\"brown\",\"name\":\"Matthews Dale\",\"gender\":\"male\",\"company\":\"ZOGAK\",\"email\":\"matthewsdale@zogak.com\",\"phone\":\"+1 (863) 499-3990\",\"address\":\"155 Royce Place, Kipp, North Dakota, 4155\",\"about\":\"Aute et eiusmod pariatur dolore ea fugiat voluptate aliquip non esse culpa laboris. Sit officia non occaecat sunt cillum. Do consectetur qui culpa exercitation commodo qui adipisicing. Enim cupidatat aliqua consequat cillum labore Lorem consectetur minim consectetur. Duis excepteur adipisicing cillum adipisicing sit dolore labore labore.\",\"registered\":\"2018-11-15T10:00:09 +08:00\",\"latitude\":8.84512,\"longitude\":17.747362,\"tags\":[\"ipsum\",\"incididunt\",\"reprehenderit\",\"nostrud\",\"aliquip\",\"deserunt\",\"culpa\"],\"friends\":[{\"id\":0,\"name\":\"Mcpherson Sims\"},{\"id\":1,\"name\":\"Chase Cruz\"},{\"id\":2,\"name\":\"Shanna Bates\"}],\"greeting\":\"Hello, Matthews Dale! You have 3 unread messages.\",\"favoriteFruit\":\"apple\"}')\n\n\tinsert into friends values (4, '{\"_id\":\"5ccb7cc7fd8d4486cb657db8\",\"index\":4,\"guid\":\"33a8a4f7-b8e9-4442-b9e4-8ab7027c7c84\",\"isActive\":true,\"balance\":\"$2,699.96\",\"picture\":\"http://placehold.it/32x32\",\"age\":35,\"eyeColor\":\"green\",\"name\":\"Lacy Dickson\",\"gender\":\"female\",\"company\":\"ORBIFLEX\",\"email\":\"lacydickson@orbiflex.com\",\"phone\":\"+1 (963) 589-3251\",\"address\":\"560 Delevan Street, Biddle, Missouri, 836\",\"about\":\"Non adipisicing id sunt velit officia pariatur quis aute culpa cillum magna aliquip magna. Velit amet aliquip nisi tempor. Consequat deserunt veniam sunt dolore consectetur commodo nisi exercitation et cillum. Incididunt adipisicing cupidatat qui eu sunt voluptate. Excepteur occaecat eu et nostrud et sint magna aute ex commodo quis. Esse sint culpa laborum culpa eu laboris nisi adipisicing duis et.\",\"registered\":\"2018-12-21T04:20:45 +08:00\",\"latitude\":-41.934575,\"longitude\":138.645803,\"tags\":[\"minim\",\"et\",\"eu\",\"incididunt\",\"non\",\"consectetur\",\"esse\"],\"friends\":[{\"id\":0,\"name\":\"Chase Hood\"},{\"id\":1,\"name\":\"Ruthie Andrews\"},{\"id\":2,\"name\":\"Casey Bradford\"}],\"greeting\":\"Hello, Lacy Dickson! You have 4 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n\tinsert into friends values (5, '{\"_id\":\"5ccb7cd6a46f7a41f34bfb28\",\"index\":5,\"guid\":\"db152bf4-8e2c-4301-8485-ab12c50fce71\",\"isActive\":false,\"balance\":\"$3,192.32\",\"picture\":\"http://placehold.it/32x32\",\"age\":32,\"eyeColor\":\"green\",\"name\":\"Paul Holcomb\",\"gender\":\"male\",\"company\":\"GENMOM\",\"email\":\"paulholcomb@genmom.com\",\"phone\":\"+1 (988) 539-2627\",\"address\":\"149 Cyrus Avenue, Bridgetown, Georgia, 2382\",\"about\":\"Est et esse enim consequat est amet cupidatat commodo laborum. Do dolore culpa mollit ipsum culpa. Est anim irure qui aliqua magna voluptate cillum aliqua sunt commodo cupidatat adipisicing dolore. Incididunt aute veniam nisi officia duis Lorem esse aute sit anim. Dolor tempor nisi officia ipsum dolor incididunt ut elit eu deserunt eu in nisi mollit. Est laboris labore dolor qui aliquip culpa proident eiusmod quis cupidatat irure culpa.\",\"registered\":\"2015-04-30T03:39:55 +07:00\",\"latitude\":-39.265631,\"longitude\":-156.801691,\"tags\":[\"proident\",\"quis\",\"exercitation\",\"Lorem\",\"exercitation\",\"quis\",\"ut\"],\"friends\":[{\"id\":0,\"name\":\"Monica Lamb\"},{\"id\":1,\"name\":\"Jamie Burch\"},{\"id\":2,\"name\":\"Bianca Bray\"}],\"greeting\":\"Hello, Paul Holcomb! You have 9 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n\tinsert into friends values (6, '{\"_id\":\"5ccb7ce7f6f5a975f6864a3b\",\"index\":6,\"guid\":\"598746cd-e044-4d00-8ed1-01d80548c313\",\"isActive\":true,\"balance\":\"$3,390.32\",\"picture\":\"http://placehold.it/32x32\",\"age\":23,\"eyeColor\":\"blue\",\"name\":\"Betsy Contreras\",\"gender\":\"female\",\"company\":\"HANDSHAKE\",\"email\":\"betsycontreras@handshake.com\",\"phone\":\"+1 (984) 538-3329\",\"address\":\"997 Poplar Avenue, Warren, Ohio, 6478\",\"about\":\"Proident incididunt sint quis aliqua adipisicing ipsum nostrud aute aute. Sunt cillum cillum reprehenderit tempor Lorem ullamco officia nisi ipsum eu quis. Nulla quis laboris eu est irure tempor velit elit exercitation nulla laboris. Dolore irure velit ut ullamco velit ad fugiat sunt aliqua. Esse adipisicing incididunt duis ullamco. Ullamco nisi laboris dolor commodo aliqua dolor sunt pariatur do ea. Sit occaecat in veniam culpa anim quis reprehenderit quis.\",\"registered\":\"2016-01-21T03:44:40 +08:00\",\"latitude\":-62.1724,\"longitude\":33.84255,\"tags\":[\"id\",\"esse\",\"eiusmod\",\"dolore\",\"excepteur\",\"ad\",\"pariatur\"],\"friends\":[{\"id\":0,\"name\":\"Julia Watson\"},{\"id\":1,\"name\":\"Suzanne Waller\"},{\"id\":2,\"name\":\"Elizabeth Obrien\"}],\"greeting\":\"Hello, Betsy Contreras! You have 10 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n\tinsert into friends values (7, '{\"_id\":\"5ccb7cf638421e377dc87ccd\",\"index\":7,\"guid\":\"c6d49d14-f07f-43b8-bd60-8148248949f7\",\"isActive\":true,\"balance\":\"$2,866.35\",\"picture\":\"http://placehold.it/32x32\",\"age\":24,\"eyeColor\":\"brown\",\"name\":\"Yates Garrison\",\"gender\":\"male\",\"company\":\"COMDOM\",\"email\":\"yatesgarrison@comdom.com\",\"phone\":\"+1 (891) 571-2637\",\"address\":\"692 Roder Avenue, Lowell, Connecticut, 7828\",\"about\":\"Eiusmod dolor voluptate aute aute esse qui adipisicing aliquip non anim exercitation ipsum duis. Aute irure mollit qui tempor anim laborum cillum est. Nulla non non nostrud velit Lorem tempor eiusmod nisi esse eu aute eiusmod. Ex anim quis sint ad deserunt culpa in ullamco. Magna qui esse quis adipisicing irure nisi sint do deserunt proident et non culpa occaecat.\",\"registered\":\"2017-11-27T10:33:46 +08:00\",\"latitude\":-31.863067,\"longitude\":-12.265224,\"tags\":[\"magna\",\"incididunt\",\"magna\",\"voluptate\",\"magna\",\"consequat\",\"sint\"],\"friends\":[{\"id\":0,\"name\":\"Dillon Drake\"},{\"id\":1,\"name\":\"Hale Pickett\"},{\"id\":2,\"name\":\"Johnnie Carter\"}],\"greeting\":\"Hello, Yates Garrison! You have 9 unread messages.\",\"favoriteFruit\":\"banana\"}')\n\n\tinsert into friends values (8, '{\"_id\":\"5ccb7d039fd0bc1933ca0cec\",\"index\":8,\"guid\":\"ffbb3018-9b65-4866-87d1-b056b22a0ab9\",\"isActive\":false,\"balance\":\"$1,167.25\",\"picture\":\"http://placehold.it/32x32\",\"age\":30,\"eyeColor\":\"blue\",\"name\":\"Tamika Nixon\",\"gender\":\"female\",\"company\":\"EARTHPLEX\",\"email\":\"tamikanixon@earthplex.com\",\"phone\":\"+1 (849) 530-3578\",\"address\":\"824 Campus Place, Cuylerville, Mississippi, 2158\",\"about\":\"Irure aliqua commodo dolore velit. Excepteur labore mollit tempor dolor voluptate amet nisi amet fugiat ut cillum ullamco. Magna occaecat eu nulla adipisicing. Consectetur amet fugiat occaecat ex consequat consequat et consequat. Voluptate sit aute Lorem laborum enim enim reprehenderit labore do esse voluptate velit culpa cupidatat.\",\"registered\":\"2016-03-24T03:57:43 +07:00\",\"latitude\":-35.061481,\"longitude\":46.598786,\"tags\":[\"ad\",\"veniam\",\"nulla\",\"sint\",\"reprehenderit\",\"ad\",\"qui\"],\"friends\":[{\"id\":0,\"name\":\"Kimberley Arnold\"},{\"id\":1,\"name\":\"Mccullough Watson\"},{\"id\":2,\"name\":\"Mavis Bean\"}],\"greeting\":\"Hello, Tamika Nixon! You have 8 unread messages.\",\"favoriteFruit\":\"apple\"}')\n\n\tinsert into friends values (9, '{\"_id\":\"5ccb7ed92200842ec06be564\",\"index\":0,\"guid\":\"7b359bae-b40d-42a1-b85f-142874ad2586\",\"isActive\":false,\"balance\":\"$1,436.77\",\"picture\":\"http://placehold.it/32x32\",\"age\":40,\"eyeColor\":\"brown\",\"name\":\"Saunders Alvarado\",\"gender\":\"male\",\"company\":\"IPLAX\",\"email\":\"saundersalvarado@iplax.com\",\"phone\":\"+1 (831) 556-2550\",\"address\":\"230 Prince Street, Holcombe, Illinois, 5636\",\"about\":\"Commodo aute deserunt non adipisicing cillum. In nostrud ad mollit est non eu Lorem. Do incididunt ullamco quis consectetur culpa esse velit quis culpa dolore occaecat Lorem esse esse. Eiusmod ut reprehenderit amet consectetur duis. Consequat cillum enim nulla proident.\",\"registered\":\"2014-10-15T02:22:01 +07:00\",\"latitude\":13.032716,\"longitude\":-61.505238,\"tags\":[\"consequat\",\"ut\",\"magna\",\"ex\",\"do\",\"veniam\",\"dolor\"],\"friends\":[{\"id\":0,\"name\":\"Minerva Snider\"},{\"id\":1,\"name\":\"Potter Kinney\"},{\"id\":2,\"name\":\"Conrad Mayo\"}],\"greeting\":\"Hello, Saunders Alvarado! You have 7 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n\tinsert into friends values (10, '{\"_id\":\"5ccb7ef6b637339ca62ee75e\",\"index\":0,\"guid\":\"a5563ea9-ffa7-45b9-a438-ea2a0fa18933\",\"isActive\":false,\"balance\":\"$2,073.31\",\"picture\":\"http://placehold.it/32x32\",\"age\":25,\"eyeColor\":\"blue\",\"name\":\"Ofelia Molina\",\"gender\":\"female\",\"company\":\"BLURRYBUS\",\"email\":\"ofeliamolina@blurrybus.com\",\"phone\":\"+1 (801) 556-3664\",\"address\":\"783 Dikeman Street, Avalon, Guam, 8960\",\"about\":\"Veniam incididunt velit minim mollit laboris eiusmod nostrud eu et nisi sint esse. Nulla mollit tempor quis consequat aute in esse dolore magna dolor esse. Pariatur sit do ad consectetur fugiat proident esse mollit officia ullamco Lorem culpa sunt.\",\"registered\":\"2017-09-09T10:18:40 +07:00\",\"latitude\":-39.738099,\"longitude\":176.596152,\"tags\":[\"enim\",\"ut\",\"fugiat\",\"veniam\",\"quis\",\"nisi\",\"deserunt\"],\"friends\":[{\"id\":0,\"name\":\"Celia Torres\"},{\"id\":1,\"name\":\"Guerrero Church\"},{\"id\":2,\"name\":\"Ross Juarez\"}],\"greeting\":\"Hello, Ofelia Molina! You have 8 unread messages.\",\"favoriteFruit\":\"strawberry\"}')\n\n-- Raw JSON data stored as varchar in table dbo.friends in Synapse Analytics database\nselect * from dbo.friends;\n\n-- Returns rows in which the column jsontext contains valid JSON.\nSELECT id, jsontext FROM friends WHERE ISJSON(jsontext) > 0;\n\n-- Use JSON_VALUE function to query the table data\nselect json_value (jsontext, '$.name') as name,  json_value (jsontext, '$.phone') as phone, json_value (jsontext, '$.address') as address from friends;\n\n-- Use JSON_Modify function to update data, then verify the result\nUPDATE dbo.friends SET jsontext=JSON_MODIFY(jsontext,'$.age','90') WHERE id = 1;\n\nselect json_value (jsontext, '$.age') as age from friends where id = 1;\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "SampleSQL",
				"poolName": "SampleSQL"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}